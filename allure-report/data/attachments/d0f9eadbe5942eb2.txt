# Instructions

- Following Playwright test failed.
- Explain why, be concise, respect Playwright best practices.
- Provide a snippet of code with the fix, if possible.

# Test info

- Name: addElementToCart >> Add all elements to cart
- Location: C:\Users\dimitar.stoev\Desktop\interview framework\AllWynPlaywright\project-root\tests\ui tests\login.spec.ts:47:7

# Error details

```
Error: locator.click: Test timeout of 30000ms exceeded.
Call log:
  - waiting for locator('//button[text()="Add to cart"]').nth(3)

    at MainPage.clickAllAddToCartButtons (C:\Users\dimitar.stoev\Desktop\interview framework\AllWynPlaywright\project-root\src\pages\MainPage.ts:29:39)
    at C:\Users\dimitar.stoev\Desktop\interview framework\AllWynPlaywright\project-root\tests\ui tests\login.spec.ts:49:5
```

# Test source

```ts
   1 | import { Page, Locator } from '@playwright/test';
   2 | import { AppSettings, ApiService } from '../config/app-settings';
   3 | import { JsonFileReader } from '../utils/data-reader';
   4 |
   5 | export class MainPage {
   6 |
   7 |
   8 |     private readonly fileReader = new JsonFileReader();
   9 |
  10 |     constructor(private readonly page: Page) {}
  11 |
  12 |   get mainPageLogo(): Locator {
  13 |     return this.page.locator('//div[@class="app_logo"]');	
  14 |   }
  15 |
  16 |   get addCartButton(): Locator {
  17 |     return this.page.locator('//button[text()="Add to cart"]');
  18 |   }
  19 |
  20 |   async getLogoText(): Promise<string> {
  21 |     await this.mainPageLogo.waitFor({ state: 'visible' });
  22 |     return await this.mainPageLogo.textContent() ?? '';	
  23 |   }
  24 |
  25 |   async clickAllAddToCartButtons(): Promise<void> {
  26 |     await this.addCartButton.first().waitFor({ state: 'visible' });
  27 |     const countCart = await this.addCartButton.count();
  28 |     for (let i = 0; i < countCart; i++) {
> 29 |       await this.addCartButton.nth(i).click();
     |                                       ^ Error: locator.click: Test timeout of 30000ms exceeded.
  30 |     }
  31 |   }
  32 | }
```